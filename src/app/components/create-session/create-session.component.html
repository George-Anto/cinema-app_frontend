<div class="screen">
  <mat-card>
    <h1>Create a new Session</h1>
    <form (submit)="onCreateSession()" #sessionForm="ngForm">
      <mat-form-field>
        <input
          matInput
          type="number"
          name="code"
          placeholder="code"
          ngModel
          required
          #code="ngModel"
        />
        <mat-error *ngIf="code.invalid">Please enter a valid code</mat-error>
      </mat-form-field>
      <br />

      <mat-form-field>
        <input
          matInput
          type="string"
          name="name"
          placeholder="name"
          ngModel
          required
          #name="ngModel"
        />
        <mat-error *ngIf="name.invalid">Please enter a valid name</mat-error>
      </mat-form-field>
      <br />

      <mat-form-field>
        <input
          matInput
          type="date"
          name="startDate"
          placeholder="startDate"
          ngModel
          required
          #startDate="ngModel"
        />
        <mat-error *ngIf="startDate.invalid"
          >Please enter a valid startDate</mat-error
        >
      </mat-form-field>
      <br />

      <mat-form-field>
        <input
          matInput
          type="time"
          name="startTime"
          placeholder="startTime"
          ngModel
          required
          #startTime="ngModel"
        />
        <mat-error *ngIf="startTime.invalid"
          >Please enter a valid startTime</mat-error
        >
      </mat-form-field>
      <br />
      <br />

      <!-- <h4>Select a <b>Movie</b></h4> -->
      <mat-form-field appearance="fill">
        <mat-label>Movie</mat-label>
        <mat-select [(ngModel)]="selectedMovie" name="movie" required>
          <mat-option *ngFor="let movie of movies" [value]="movie._id">
            {{ movie.title }}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <!-- <p>Selected Cinema: {{ selectedMovie }}</p> -->

      <br /><br />

      <!-- <h4>Select a <b>Cinema</b></h4> -->
      <mat-form-field appearance="fill">
        <mat-label>Cinema</mat-label>
        <mat-select [(ngModel)]="selectedCinema" name="cinema" required>
          <mat-option *ngFor="let cinema of cinemas" [value]="cinema._id">
            {{ cinema.name }}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <!-- <p>Selected Cinema: {{ selectedCinema }}</p> -->
      <br />
      <div class="buttons">
        <button
          mat-raised-button
          color="basic"
          type="button"
          routerLink="/main-menu/dashboard"
          class="button-back"
        >
          Back
        </button>
        <button
          mat-raised-button
          color="accent"
          type="submit"
          [disabled]="!sessionForm.valid"
        >
          Create Session
        </button>
      </div>
    </form>
  </mat-card>
</div>
<br />
<div class="screen-message">
  <div *ngIf="isLoading" class="spinner center">
    <app-loading-spinner></app-loading-spinner>
  </div>
  <div *ngIf="error" class="alert alert-danger" style="text-align: center">
    {{ error }}
  </div>
  <div *ngIf="success" class="alert alert-success" style="text-align: center">
    {{ success }}
  </div>
</div>
